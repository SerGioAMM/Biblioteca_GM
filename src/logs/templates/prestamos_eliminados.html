<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prestamos eliminados</title>
    <link rel="icon" href="/static/img/books_3145874.png">
    <link rel="stylesheet" href="{{ url_for('static', filename='colores.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='estilo_prestamos.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='barra_lateral.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='filtros.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='general.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='estilo_prestamos_eliminados.css') }}">

    <!--! Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>
<body>
    <header>
        {% include './navbar.html' %}
    </header>
    <main>
        <div class="div-busqueda">
            <form class="frm-prestamos" action="/buscar_prestamo_eliminado" method="GET">
                <label for="buscar_prestamo_eliminado"><h1>Préstamos Eliminados</h1>Ver quién eliminó qué préstamo y cuál fue su motivo.</label><br><br><br>
                <input class="buscar-prestamo-eliminado" id="cuadro-busqueda" type="text" name="buscar_prestamo_eliminado" autocomplete="off" placeholder="Buscar...">&nbsp;&nbsp;
                
                <section class="menu-filtros">
                    <nav>
                        <section>
                            <h4> Buscar por: &nbsp;&nbsp;</h4>
                            <select name="filtro-busqueda" id="filtro-busqueda">
                                <!-- Estas decisiones sirven para guardar la seleccion de filtros -->
                                <option value="Titulo" 
                                    {% if filtro_busqueda == "Titulo" %}
                                        selected
                                    {% endif %}>
                                    Titulo
                                </option>
                                <option value="Administrador" 
                                    {% if filtro_busqueda == "Administrador" %}
                                        selected
                                    {% endif %}>
                                    Usuario
                                </option>
                            </select>
                        </section>

                    </nav>
                </section>
                
                <button id="btn-buscar" type="submit">Buscar</button>

                <ul class="ul-contenedor-sugerencias">
                    <li>sugerencia 1</li>
                </ul>
            </form>
        </div>
        
        <div class="contendor-prestamos">

            {% for prestamo in prestamos_eliminados %}
            <div class="prestamo">
                
                <span class="span-fechas"> 
                    <h2>Fecha eliminación: <br>{{prestamo[2]}}</h2>
                </span><!-- Fecha  -->
                
                <span id="span-info-prestamos"> 
                    <!-- Usuario  --> 
                    <p> El <strong>{{prestamo[1]}}&nbsp;{{prestamo[0]}}</strong> eliminó un préstamo 
                        del libro <strong>{{prestamo[4]}}</strong> con el lector <strong>{{prestamo[3]}}</strong>.<!-- Nombre del lector  -->
                    <br><strong>Motivo: </strong>{{prestamo[5]}}</p> 
                </span>
            </div>
            {% endfor %}
            <br><br><br><br>
            
        </div>        
        
        <div class="paginacion">
            {% if pagina > 1 %} <!-- Verifica que la pagina actual sea despues de la primera, para mostrar un boton de "Anterior" -->
                <a href="{{ url_for('prestamos.buscar_prestamo_eliminado', page=pagina - 1, buscar_prestamo_eliminado=busqueda, filtro_busqueda=filtro_busqueda) }}">Anterior</a> <!-- Este enlace lleva a la pagina anterior "pagina-1" -->
            {% endif %}
        
            {% for p in range(pagina - 1, pagina + 2) %}
                {% if 1 <= p <= total_paginas %}
                    {% if p == pagina %}
                        <strong>{{ p }}</strong>
                    {% else %}
                        <a href="{{ url_for('prestamos.buscar_prestamo_eliminado', page=p, buscar_prestamo_eliminado=busqueda, filtro_busqueda=filtro_busqueda) }}">{{ p }}</a>
                    {% endif %}
                {% endif %}
            {% endfor %}    
        
            {% if pagina < total_paginas %} <!-- Verifica que la pagina actual no sea la ultima, para mostrar un boton de "Siguiente" -->
                <a href="{{ url_for('prestamos.buscar_prestamo_eliminado', page=pagina + 1, buscar_prestamo_eliminado=busqueda, filtro_busqueda=filtro_busqueda) }}">Siguiente</a> <!-- Este enlace lleva a la pagina siguiente "pagina+1" -->
            {% endif %}
        </div> 
    </main>
    <!-- Footer -->
    {% include 'footer.html' %}

    <script src="/static/js/sugerencias.js"></script>
    <script src="/static/js/eliminar_item.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
</body>
</html>
